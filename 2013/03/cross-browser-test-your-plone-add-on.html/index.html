<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.75 'Merriweather','Georgia',serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.9);font-family:'Merriweather','Georgia',serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:Montserrat,sans-serif;font-weight:900;text-rendering:optimizeLegibility;font-size:2.5rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.73286rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1.4427rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;letter-spacing:0.140625em;text-transform:uppercase;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.83255rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;color:inherit;font-family:'Merriweather','Georgia',serif;font-weight:900;text-rendering:optimizeLegibility;font-size:0.75966rem;line-height:1.1;font-style:italic;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}ul{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;list-style:disc;}ol{margin-left:1.75rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:0.85rem;line-height:1.75rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1rem;line-height:1.75rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}blockquote{margin-left:-1.75rem;margin-right:1.75rem;margin-top:0;padding-bottom:0;padding-left:1.42188rem;padding-right:0;padding-top:0;margin-bottom:1.75rem;font-size:1.20112rem;line-height:1.75rem;color:hsla(0,0%,0%,0.59);font-style:italic;border-left:0.32813rem solid hsla(0,0%,0%,0.9);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.75rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.75rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.75rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}li > ul{margin-left:1.75rem;margin-bottom:calc(1.75rem / 2);margin-top:calc(1.75rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.75rem / 2);}code{font-size:0.85rem;line-height:1.75rem;}kbd{font-size:0.85rem;line-height:1.75rem;}samp{font-size:0.85rem;line-height:1.75rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.16667rem;padding-right:1.16667rem;padding-top:0.875rem;padding-bottom:calc(0.875rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.75rem;color:hsla(0,0%,0%,0.9);font-weight:400;}blockquote cite:before{content:"— ";}ul,ol{margin-left:0;}@media only screen and (max-width:480px){ul,ol{margin-left:1.75rem;}blockquote{margin-left:-1.3125rem;margin-right:0;padding-left:0.98438rem;}}h1,h2,h3,h4,h5,h6{margin-top:3.5rem;}a{box-shadow:0 1px 0 0 currentColor;color:#007acc;text-decoration:none;}a:hover,a:active{box-shadow:none;}mark,ins{background:#007acc;color:white;padding:0.10938rem 0.21875rem;text-decoration:none;}a.gatsby-resp-image-link{box-shadow:none;}div.mermaid svg{height:auto !important;}</style><meta name="generator" content="Gatsby 5.2.0"/><meta name="author" content="Asko Soukka" data-gatsby-head="true"/><meta name="description" property="og:description" content="Thanks to Rok Garbas, I became aware of Sauce
Labs during the Plone testing
sprint. Finally, I had some time to try it myself, and I managed to make it work…" data-gatsby-head="true"/><meta name="title" property="og:title" content="Cross-browser test your Plone add-on with Robot Framework, Travis-CI and Sauce Labs" data-gatsby-head="true"/><meta name="type" property="og:type" content="website" data-gatsby-head="true"/><meta name="twitter:card" content="summary" data-gatsby-head="true"/><meta name="twitter:creator" content="Asko Soukka" data-gatsby-head="true"/><meta name="twitter:title" content="Cross-browser test your Plone add-on with Robot Framework, Travis-CI and Sauce Labs" data-gatsby-head="true"/><meta name="twitter:description" content="Thanks to Rok Garbas, I became aware of Sauce
Labs during the Plone testing
sprint. Finally, I had some time to try it myself, and I managed to make it work…" data-gatsby-head="true"/><meta name="image" property="og:image" content="https://datakurre.pandala.org/cover-2013-03-cross-browser-test-your-plone-add-on.html.png" data-gatsby-head="true"/><meta name="twitter:image" content="https://datakurre.pandala.org/cover-2013-03-cross-browser-test-your-plone-add-on.html.png" data-gatsby-head="true"/><meta name="theme-color" content="#663399"/><style data-href="/styles.5caeda19fca28245274c.css" data-identity="gatsby-global-css">@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:100;src:local("Montserrat Thin "),local("Montserrat-Thin"),url(/static/montserrat-latin-100-8d7d79679b70dbe27172b6460e7a7910.woff2) format("woff2"),url(/static/montserrat-latin-100-ec38980a9e0119a379e2a9b3dbb1901a.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:100;src:local("Montserrat Thin italic"),local("Montserrat-Thinitalic"),url(/static/montserrat-latin-100italic-e279051046ba1286706adc886cf1c96b.woff2) format("woff2"),url(/static/montserrat-latin-100italic-3b325a3173c8207435cd1b76e19bf501.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:200;src:local("Montserrat Extra Light "),local("Montserrat-Extra Light"),url(/static/montserrat-latin-200-9d266fbbfa6cab7009bd56003b1eeb67.woff2) format("woff2"),url(/static/montserrat-latin-200-2d8ba08717110d27122e54c34b8a5798.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:200;src:local("Montserrat Extra Light italic"),local("Montserrat-Extra Lightitalic"),url(/static/montserrat-latin-200italic-6e5b3756583bb2263eb062eae992735e.woff2) format("woff2"),url(/static/montserrat-latin-200italic-a0d6f343e4b536c582926255367a57da.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:300;src:local("Montserrat Light "),local("Montserrat-Light"),url(/static/montserrat-latin-300-00b3e893aab5a8fd632d6342eb72551a.woff2) format("woff2"),url(/static/montserrat-latin-300-ea303695ceab35f17e7d062f30e0173b.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:300;src:local("Montserrat Light italic"),local("Montserrat-Lightitalic"),url(/static/montserrat-latin-300italic-56f34ea368f6aedf89583d444bbcb227.woff2) format("woff2"),url(/static/montserrat-latin-300italic-54b0bf2c8c4c12ffafd803be2466a790.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:400;src:local("Montserrat Regular "),local("Montserrat-Regular"),url(/static/montserrat-latin-400-b71748ae4f80ec8c014def4c5fa8688b.woff2) format("woff2"),url(/static/montserrat-latin-400-0659a9f4e90db5cf51b50d005bff1e41.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:400;src:local("Montserrat Regular italic"),local("Montserrat-Regularitalic"),url(/static/montserrat-latin-400italic-6eed6b4cbb809c6efc7aa7ddad6dbe3e.woff2) format("woff2"),url(/static/montserrat-latin-400italic-7583622cfde30ae49086d18447ab28e7.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:500;src:local("Montserrat Medium "),local("Montserrat-Medium"),url(/static/montserrat-latin-500-091b209546e16313fd4f4fc36090c757.woff2) format("woff2"),url(/static/montserrat-latin-500-edd311588712a96bbf435fad264fff62.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:500;src:local("Montserrat Medium italic"),local("Montserrat-Mediumitalic"),url(/static/montserrat-latin-500italic-c90ced68b46050061d1a41842d6dfb43.woff2) format("woff2"),url(/static/montserrat-latin-500italic-5146cbfe02b1deea5dffea27a5f2f998.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:600;src:local("Montserrat SemiBold "),local("Montserrat-SemiBold"),url(/static/montserrat-latin-600-0480d2f8a71f38db8633b84d8722e0c2.woff2) format("woff2"),url(/static/montserrat-latin-600-b77863a375260a05dd13f86a1cee598f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:600;src:local("Montserrat SemiBold italic"),local("Montserrat-SemiBolditalic"),url(/static/montserrat-latin-600italic-cf46ffb11f3a60d7df0567f8851a1d00.woff2) format("woff2"),url(/static/montserrat-latin-600italic-c4fcfeeb057724724097167e57bd7801.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:700;src:local("Montserrat Bold "),local("Montserrat-Bold"),url(/static/montserrat-latin-700-7dbcc8a5ea2289d83f657c25b4be6193.woff2) format("woff2"),url(/static/montserrat-latin-700-99271a835e1cae8c76ef8bba99a8cc4e.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:700;src:local("Montserrat Bold italic"),local("Montserrat-Bolditalic"),url(/static/montserrat-latin-700italic-c41ad6bdb4bd504a843d546d0a47958d.woff2) format("woff2"),url(/static/montserrat-latin-700italic-6779372f04095051c62ed36bc1dcc142.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:800;src:local("Montserrat ExtraBold "),local("Montserrat-ExtraBold"),url(/static/montserrat-latin-800-db9a3e0ba7eaea32e5f55328ace6cf23.woff2) format("woff2"),url(/static/montserrat-latin-800-4e3c615967a2360f5db87d2f0fd2456f.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:800;src:local("Montserrat ExtraBold italic"),local("Montserrat-ExtraBolditalic"),url(/static/montserrat-latin-800italic-bf45bfa14805969eda318973947bc42b.woff2) format("woff2"),url(/static/montserrat-latin-800italic-fe82abb0bcede51bf724254878e0c374.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:normal;font-weight:900;src:local("Montserrat Black "),local("Montserrat-Black"),url(/static/montserrat-latin-900-e66c7edc609e24bacbb705175669d814.woff2) format("woff2"),url(/static/montserrat-latin-900-8211f418baeb8ec880b80ba3c682f957.woff) format("woff")}@font-face{font-display:swap;font-family:Montserrat;font-style:italic;font-weight:900;src:local("Montserrat Black italic"),local("Montserrat-Blackitalic"),url(/static/montserrat-latin-900italic-4454c775e48152c1a72510ceed3603e2.woff2) format("woff2"),url(/static/montserrat-latin-900italic-efcaa0f6a82ee0640b83a0916e6e8d68.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:300;src:local("Merriweather Light "),local("Merriweather-Light"),url(/static/merriweather-latin-300-fc117160c69a8ea0851b26dd14748ee4.woff2) format("woff2"),url(/static/merriweather-latin-300-58b18067ebbd21fda77b67e73c241d3b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:300;src:local("Merriweather Light italic"),local("Merriweather-Lightitalic"),url(/static/merriweather-latin-300italic-fe29961474f8dbf77c0aa7b9a629e4bc.woff2) format("woff2"),url(/static/merriweather-latin-300italic-23c3f1f88683618a4fb8d265d33d383a.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:400;src:local("Merriweather Regular "),local("Merriweather-Regular"),url(/static/merriweather-latin-400-d9479e8023bef9cbd9bf8d6eabd6bf36.woff2) format("woff2"),url(/static/merriweather-latin-400-040426f99ff6e00b86506452e0d1f10b.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:400;src:local("Merriweather Regular italic"),local("Merriweather-Regularitalic"),url(/static/merriweather-latin-400italic-2de7bfeaf08fb03d4315d49947f062f7.woff2) format("woff2"),url(/static/merriweather-latin-400italic-79db67aca65f5285964ab332bd65f451.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:700;src:local("Merriweather Bold "),local("Merriweather-Bold"),url(/static/merriweather-latin-700-4b08e01d805fa35d7bf777f1b24314ae.woff2) format("woff2"),url(/static/merriweather-latin-700-22fb8afba4ab1f093b6ef9e28a9b6e92.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:700;src:local("Merriweather Bold italic"),local("Merriweather-Bolditalic"),url(/static/merriweather-latin-700italic-cd92541b177652fffb6e3b952f1c33f1.woff2) format("woff2"),url(/static/merriweather-latin-700italic-f87f3d87cea0dd0979bfc8ac9ea90243.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:normal;font-weight:900;src:local("Merriweather Black "),local("Merriweather-Black"),url(/static/merriweather-latin-900-f813fc6a4bee46eda5224ac7ebf1b7be.woff2) format("woff2"),url(/static/merriweather-latin-900-5d4e42cb44410674acd99153d57df032.woff) format("woff")}@font-face{font-display:swap;font-family:Merriweather;font-style:italic;font-weight:900;src:local("Merriweather Black italic"),local("Merriweather-Blackitalic"),url(/static/merriweather-latin-900italic-b7901d85486871c1779c0e93ddd85656.woff2) format("woff2"),url(/static/merriweather-latin-900italic-9647f9fdab98756989a8a5550eb205c3.woff) format("woff")}.solarized.base03{color:#002b36}.solarized.base02{color:#073642}.solarized.base01{color:#586e75}.solarized.base00{color:#657b83}.solarized.base0{color:#839496}.solarized.base1{color:#93a1a1}.solarized.base2{color:#eee8d5}.solarized.base3{color:#fdf6e3}.solarized.solar-yellow{color:#b58900}.solarized.solar-orange{color:#cb4b16}.solarized.solar-red{color:#dc322f}.solarized.solar-magenta{color:#d33682}.solarized.solar-violet{color:#6c71c4}.solarized.solar-blue{color:#268bd2}.solarized.solar-cyan{color:#2aa198}.solarized.solar-green{color:#859900}.cm-s-solarized{color-profile:sRGB;rendering-intent:auto;line-height:1.45em}.cm-s-solarized.cm-s-dark{background-color:#002b36;color:#839496;text-shadow:#002b36 0 1px}.cm-s-solarized.cm-s-light{background-color:#fdf6e3;color:#657b83;text-shadow:#eee8d5 0 1px}.cm-s-solarized .CodeMirror-widget{text-shadow:none}.cm-s-solarized .cm-header{color:#586e75}.cm-s-solarized .cm-quote{color:#93a1a1}.cm-s-solarized .cm-keyword{color:#cb4b16}.cm-s-solarized .cm-atom,.cm-s-solarized .cm-number{color:#d33682}.cm-s-solarized .cm-def{color:#2aa198}.cm-s-solarized .cm-variable{color:#839496}.cm-s-solarized .cm-variable-2{color:#b58900}.cm-s-solarized .cm-type,.cm-s-solarized .cm-variable-3{color:#6c71c4}.cm-s-solarized .cm-property{color:#2aa198}.cm-s-solarized .cm-operator{color:#6c71c4}.cm-s-solarized .cm-comment{color:#586e75;font-style:italic}.cm-s-solarized .cm-string{color:#859900}.cm-s-solarized .cm-string-2{color:#b58900}.cm-s-solarized .cm-meta{color:#859900}.cm-s-solarized .cm-qualifier{color:#b58900}.cm-s-solarized .cm-builtin{color:#d33682}.cm-s-solarized .cm-bracket{color:#cb4b16}.cm-s-solarized .CodeMirror-matchingbracket{color:#859900}.cm-s-solarized .CodeMirror-nonmatchingbracket{color:#dc322f}.cm-s-solarized .cm-tag{color:#93a1a1}.cm-s-solarized .cm-attribute{color:#2aa198}.cm-s-solarized .cm-hr{border-top:1px solid #586e75;color:transparent;display:block}.cm-s-solarized .cm-link{color:#93a1a1;cursor:pointer}.cm-s-solarized .cm-special{color:#6c71c4}.cm-s-solarized .cm-em{color:#999;text-decoration:underline;text-decoration-style:dotted}.cm-s-solarized .cm-error,.cm-s-solarized .cm-invalidchar{border-bottom:1px dotted #dc322f;color:#586e75}.cm-s-solarized.cm-s-dark div.CodeMirror-selected{background:#073642}.cm-s-solarized.cm-s-dark.CodeMirror ::selection{background:rgba(7,54,66,.99)}.cm-s-dark .CodeMirror-line>span::-moz-selection,.cm-s-dark .CodeMirror-line>span>span::-moz-selection,.cm-s-solarized.cm-s-dark .CodeMirror-line::-moz-selection{background:rgba(7,54,66,.99)}.cm-s-solarized.cm-s-light div.CodeMirror-selected{background:#eee8d5}.cm-s-light .CodeMirror-line>span::selection,.cm-s-light .CodeMirror-line>span>span::selection,.cm-s-solarized.cm-s-light .CodeMirror-line::selection{background:#eee8d5}.cm-s-ligh .CodeMirror-line>span::-moz-selection,.cm-s-ligh .CodeMirror-line>span>span::-moz-selection,.cm-s-solarized.cm-s-light .CodeMirror-line::-moz-selection{background:#eee8d5}.cm-s-solarized.CodeMirror{box-shadow:inset 7px 0 12px -6px #000}.cm-s-solarized .CodeMirror-gutters{border-right:0}.cm-s-solarized.cm-s-dark .CodeMirror-gutters{background-color:#073642}.cm-s-solarized.cm-s-dark .CodeMirror-linenumber{color:#586e75;text-shadow:#021014 0 -1px}.cm-s-solarized.cm-s-light .CodeMirror-gutters{background-color:#eee8d5}.cm-s-solarized.cm-s-light .CodeMirror-linenumber{color:#839496}.cm-s-solarized .CodeMirror-linenumber{padding:0 5px}.cm-s-solarized .CodeMirror-guttermarker-subtle{color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-guttermarker{color:#ddd}.cm-s-solarized.cm-s-light .CodeMirror-guttermarker{color:#cb4b16}.cm-s-solarized .CodeMirror-gutter .CodeMirror-gutter-text{color:#586e75}.cm-s-solarized .CodeMirror-cursor{border-left:1px solid #819090}.cm-s-solarized.cm-s-light.cm-fat-cursor .CodeMirror-cursor{background:#7e7}.cm-s-solarized.cm-s-light .cm-animate-fat-cursor{background-color:#7e7}.cm-s-solarized.cm-s-dark.cm-fat-cursor .CodeMirror-cursor{background:#586e75}.cm-s-solarized.cm-s-dark .cm-animate-fat-cursor{background-color:#586e75}.cm-s-solarized.cm-s-dark .CodeMirror-activeline-background{background:hsla(0,0%,100%,.06)}.cm-s-solarized.cm-s-light .CodeMirror-activeline-background{background:rgba(0,0,0,.06)}ol,ul{margin-left:1em}.gatsby-highlight{background:#fdfaf6;border-bottom:1px solid #eee;border-top:1px solid #eee;margin-bottom:1.75rem;overflow-x:auto;padding:1ex 1em}.gatsby-highlight pre{margin-bottom:0}</style><title data-gatsby-head="true">Cross-browser test your Plone add-on with Robot Framework, Travis-CI and Sauce Labs | Asko Soukka</title><link rel="canonical" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" data-gatsby-head="true"/><link rel="alternate" type="application/rss+xml" title="datakurre" href="/rss.xml"/><link rel="alternate" type="application/rss+xml" title="datakurre on &quot;plone&quot;" href="/feeds/posts/default/-/plone"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="icon" href="/favicon-32x32.png?v=b12376b9b88c2b74e77175e369294c9a" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=b12376b9b88c2b74e77175e369294c9a"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=b12376b9b88c2b74e77175e369294c9a"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div style="margin-left:auto;margin-right:auto;max-width:42rem;padding:2.625rem 1.3125rem"><header><h3 style="font-family:Montserrat, sans-serif;margin-top:0"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">Asko Soukka</a></h3></header><main class="h-entry"><h1 style="margin-top:1.75rem;margin-bottom:0">Cross-browser test your Plone add-on with Robot Framework, Travis-CI and Sauce Labs</h1><span class="p-name" style="display:none">Cross-browser test your Plone add-on with Robot Framework, Travis-CI and Sauce Labs</span><img class="u-photo" src="https://datakurre.pandala.org/cover-2013-03-cross-browser-test-your-plone-add-on.html.png" alt="" style="display:none"/><a class="p-author h-card" href="https://pandala.org/#datakurre" style="display:none"><img class="u-photo" src="https://datakurre.pandala.org/icon.jpg" alt=""/>Asko Soukka</a><div class="p-summary" style="display:none"><div>Thanks to Rok Garbas, I became aware of Sauce
Labs during the Plone testing
sprint. Finally, I had some time to try it myself, and I managed to make it work…</div></div><a class="p-category" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" style="display:none">Plone</a><a class="p-category" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" style="display:none">Robot Framework</a><a class="p-category" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" style="display:none">Sauce Labs</a><a class="p-category" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" style="display:none">Selenium</a><a class="p-category" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" style="display:none">Testing</a><a class="p-category" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/" style="display:none">Travis CI</a><a class="u-syndication" href="https://fed.brid.gy/" style="display:none">https://fed.brid.gy/</a><a class="u-syndication" href="https://fediverse.pandala.org/" style="display:none">https://fediverse.pandala.org/</a><a class="u-url u-uid" style="font-size:0.83255rem;line-height:1.75rem;display:block;color:black;box-shadow:none;margin-bottom:1.75rem" href="https://datakurre.pandala.org/2013/03/cross-browser-test-your-plone-add-on.html/"><time class="dt-published" datetime="2013-03-12 06:00:00">March 12, 2013</time></a><div class="e-content"><div><p>Thanks to <a href="http://garbas.si/">Rok Garbas</a>, I became aware of <a href="http://saucelabs.com">Sauce
Labs</a> during the <a href="http://www.coactivate.org/projects/barcelona-sprint/project-home">Plone testing
sprint</a>.</p>
<p>Finally, I had some time to try it myself, and I managed to make it work
pretty well with Robot Framework and Travis-CI:
<a href="http://travis-ci.org/datakurre/example.product"><img src="https://secure.travis-ci.org/datakurre/example.product.png" alt="travis"></a>
<a href="https://saucelabs.com/u/exampleproduct"><img src="https://saucelabs.com/buildstatus/exampleproduct" alt="saucelabs"></a></p>
<p>I try to start from the very beginning, but if you already have Robot
Framework tests, or even Travis-CI-integration, you could just skip
these initial steps.</p>
<h2>Bootstrap Templer</h2>
<p>Create buildout directory for Templer installation:</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ mkdir</span><span> templer-buildout</span><span>
</span><span class="cm-def">$ cd</span><span> templer-buildout/</span></code></pre>
    </div>
<p>Get <code>bootstrap.py</code>:</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ curl</span><span> </span><span class="cm-attribute">-o</span><span> http://downloads.buildout.org/2/bootstrap.py</span></code></pre>
    </div>
<p>Create <code>buildout.cfg</code>:</p>
<div class="gatsby-highlight" data-language="properties">
      <pre class=" cm-s-solarized"><code><span class="cm-header">[buildout]</span><span>
</span><span class="cm-def">parts </span><span>=</span><span class="cm-quote"> templer</span><span>

</span><span class="cm-header">[templer]</span><span>
</span><span class="cm-def">recipe </span><span>=</span><span class="cm-quote"> zc.recipe.egg</span><span>
</span><span class="cm-def">eggs </span><span>=</span><span>
</span><span class="cm-def">    templer.core</span><span>
</span><span class="cm-def">    templer.plone</span></code></pre>
    </div>
<p>Run bootstrap and buildout to install Templer:</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ python</span><span> bootstrap.py</span><span>
</span><span class="cm-def">$ bin</span><span>/buildout</span></code></pre>
    </div>
<h2>Create a new product with Templer</h2>
<p>Call the buildout-installed to create a new product with Robot Framework
test example:</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ templer</span><span class="cm-attribute">-buildout</span><span>/bin/templer plone_basic example.product</span></code></pre>
    </div>
<p>Be careful to answer <code>true</code> for the following question about including
Robot test templates:</p>
<div class="gatsby-highlight" data-language="null">
      <pre class=" cm-s-solarized"><code><span>robot tests (should the default robot test be included) [false]: true</span></code></pre>
    </div>
<p>Run buildout:</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ cd</span><span> example.product</span><span>
</span><span class="cm-def">$ python</span><span> bootstrap.py </span><span class="cm-attribute">--distribute</span><span>
</span><span class="cm-def">$ bin</span><span>/buildout</span></code></pre>
    </div>
<h2>Update Robot Framework tests to be Selenium grid ready</h2>
<p>Using Sauce Labs with Robot Framework (Selenium library) is similar to
using robot with your own selenium grid. It mainly requires making the
browser opening keyword configurable with a few selected variables.</p>
<p>Update <code>src/example/product/tests/robot_test.txt</code> with:</p>
<div class="gatsby-highlight" data-language="robotframework">
      <pre class=" cm-s-solarized"><code><span class="cm-header">*** Settings ***</span><span>

</span><span class="cm-meta">Library</span><span>  </span><span class="cm-string">Selenium2Library</span><span>  </span><span class="cm-attribute">timeout</span><span class="cm-operator">=</span><span class="cm-string">10</span><span>  </span><span class="cm-attribute">implicit_wait</span><span class="cm-operator">=</span><span class="cm-string">0.5</span><span>

</span><span class="cm-meta">Suite Setup</span><span>  </span><span class="cm-keyword">Start</span><span> </span><span class="cm-keyword">browser</span><span>
</span><span class="cm-meta">Suite Teardown</span><span>  </span><span class="cm-keyword">Close</span><span> </span><span class="cm-keyword">All</span><span> </span><span class="cm-keyword">Browsers</span><span>

</span><span class="cm-header">*** Variables ***</span><span>

</span><span class="cm-variable-2">${ZOPE_HOST}</span><span>  </span><span class="cm-string">localhost</span><span>
</span><span class="cm-variable-2">${ZOPE_PORT}</span><span>  </span><span class="cm-string">55001</span><span>
</span><span class="cm-variable-2">${ZOPE_URL}</span><span>  </span><span class="cm-operator">http://${ZOPE_HOST}:</span><span class="cm-variable-2">${ZOPE_PORT</span><span class="cm-variable-2">}</span><span>

</span><span class="cm-variable-2">${PLONE_SITE_ID}</span><span>  </span><span class="cm-string">plone</span><span>
</span><span class="cm-variable-2">${PLONE_URL}</span><span>  </span><span class="cm-variable-2">${ZOPE_URL}</span><span class="cm-string">/</span><span class="cm-variable-2">${PLONE_SITE_ID</span><span class="cm-variable-2">}</span><span>

</span><span class="cm-variable-2">${BROWSER}</span><span>  </span><span class="cm-string">Firefox</span><span>
</span><span class="cm-variable-2">${REMOTE_URL</span><span class="cm-variable-2">}</span><span>
</span><span class="cm-variable-2">${DESIRED_CAPABILITIES}</span><span>  </span><span class="cm-operator">platform:</span><span class="cm-string">Linux</span><span>
</span><span class="cm-variable-2">${BUILD_NUMBER}</span><span>  </span><span class="cm-string">manual</span><span>

</span><span class="cm-header">*** Test Cases ***</span><span>

</span><span class="cm-string header">Plone site</span><span>
</span><span class="cm-bracket">    </span><span class="cm-meta">[Tags]</span><span class="cm-bracket">  </span><span class="cm-tag">start</span><span>
</span><span>    </span><span class="cm-keyword">Go</span><span> </span><span class="cm-keyword">to</span><span>  </span><span class="cm-variable-2">${PLONE_URL</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-keyword">Page</span><span> </span><span class="cm-keyword">should</span><span> </span><span class="cm-keyword">contain</span><span>  </span><span class="cm-string">Plone</span><span> </span><span class="cm-string">site</span><span>

</span><span class="cm-header">*** Keywords ***</span><span>

</span><span class="cm-def">Start</span><span> </span><span class="cm-def">browser</span><span>
</span><span>    </span><span class="cm-variable-2">${BUILD_INFO}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-keyword">Set</span><span> </span><span class="cm-keyword">variable</span><span>
</span><span>    </span><span class="cm-bracket">...</span><span>           </span><span class="cm-operator">build:${BUILD_NUMBER},name:</span><span class="cm-variable-2">${SUITE_NAME}</span><span> </span><span class="cm-bracket">|</span><span> </span><span class="cm-variable-2">${TEST_NAME</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-keyword">Open</span><span> </span><span class="cm-keyword">browser</span><span>  </span><span class="cm-variable-2">${PLONE_URL}</span><span>  </span><span class="cm-variable-2">${BROWSER</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-bracket">...</span><span>           </span><span class="cm-attribute">remote_url</span><span class="cm-operator">=</span><span class="cm-variable-2">${REMOTE_URL</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-bracket">...</span><span>           </span><span class="cm-attribute">desired_capabilities</span><span class="cm-operator">=</span><span class="cm-variable-2">${DESIRED_CAPABILITIES}</span><span class="cm-string">,</span><span class="cm-variable-2">${BUILD_INFO</span><span class="cm-variable-2">}</span></code></pre>
    </div>
<p>Let me explain what all those variables are about:</p>
<ul>
<li><strong>ZOPE_HOST</strong> should match the host for which ZServer is started
during the test setup (ZServer host is configured with
<strong>ZSERVER_HOST</strong>-environment variable. It defaults to
<strong>localhost</strong>.</li>
<li><strong>ZOPE_PORT</strong> should match the port number which ZServer is started
to listen during the test setup (ZServer pot is configured with
<strong>ZSERVER_PORT</strong>-environment variable. It defaults to 55001, but we
reconfigure it later by environment variables with one of the ports
currently supported by Sauce Labs.</li>
<li><strong>ZOPE_URL</strong> is a convenience variable for accessing Zope
application root.</li>
<li><strong>PLONE_SITE_ID</strong> is the Plone portal object id (and path name)
for the test site. It default to <strong>plone</strong>, but it can be configured
with <strong>PLONE_SITE_ID</strong>-environment variable. The default should be
ok for most cases.</li>
<li><strong>PLONE_URL</strong> is a convenience variable for accessing the Plone
site front-page.</li>
<li><strong>BROWSER</strong> selects the browser to run the tests with. The supported
values depend on Selenium Python-package and can also be read from
the documentation of <strong>Open browser</strong>-keyword in <a href="http://rtomac.github.com/robotframework-selenium2library/doc/Selenium2Library.html">Selenium2Library
keywords</a>
documentation.</li>
<li><strong>REMOTE_URL</strong> enables testing with Selenium grid by defining the
url of the Selenium hub to use.</li>
<li><strong>DESIRED_CAPABILITIES</strong> is used to pass various extra parameters
for Selenium hub (e.g. the browser version to use or test metadata).</li>
<li><strong>BUILD_NUMBER</strong> is used to identify the Travis-CI build on <strong>Sauce
Labs</strong>.</li>
</ul>
<p>When robot tests for Plone are run using <code>bin/test</code>, all the variables
above can be overridden by defining corresponding <strong>ROBOT_</strong>-prefixed
environment variable (e.g. <strong>ROBOT_REMOTE_URL</strong>).</p>
<h2>Add Travis-CI configuration with Sauce Labs -support</h2>
<p>There are a few steps in adding Travis-CI-support into your product.</p>
<p>At first, create <code>travis.cfg</code> to do the required magic for minimizing
buildout-time and setting a few required environment variables. Thanks
to the great community, we can just extend a public template:</p>
<div class="gatsby-highlight" data-language="properties">
      <pre class=" cm-s-solarized"><code><span class="cm-header">[buildout]</span><span>
</span><span class="cm-def">extends </span><span>=</span><span>
</span><span class="cm-def">    https</span><span>:</span><span class="cm-quote">//raw.github.com/collective/buildout.plonetest/master/travis-4.x.cfg</span><span>

</span><span class="cm-def">package-name </span><span>=</span><span class="cm-quote"> example.product</span><span>
</span><span class="cm-def">package-extras </span><span>=</span><span class="cm-quote"> [test]</span><span>

</span><span class="cm-def">allow-hosts +</span><span>=</span><span>
</span><span class="cm-def">    code.google.com</span><span>
</span><span class="cm-def">    robotframework.googlecode.com</span><span>

</span><span class="cm-header">[versions]</span><span>
</span><span class="cm-def">plone.app.testing </span><span>=</span><span class="cm-quote"> 4.2.2</span><span>

</span><span class="cm-header">[environment]</span><span>
</span><span class="cm-def">ZSERVER_PORT</span><span>=</span><span class="cm-quote"> 8080</span><span>
</span><span class="cm-def">ROBOT_ZOPE_PORT</span><span>=</span><span class="cm-quote"> 8080</span><span>

</span><span class="cm-header">[test]</span><span>
</span><span class="cm-def">environment </span><span>=</span><span class="cm-quote"> environment</span></code></pre>
    </div>
<p>Create <code>.travis.yml</code> for letting Travis-CI to know how the environment
should be set up and the tests run:</p>
<div class="gatsby-highlight" data-language="yaml">
      <pre class=" cm-s-solarized"><code><span class="cm-def">---</span><span>
</span><span class="cm-atom">language</span><span class="cm-meta">: </span><span>python</span><span>
</span><span class="cm-atom">python</span><span class="cm-meta">: </span><span class="cm-string">'2.7'</span><span>
</span><span class="cm-atom">install</span><span class="cm-meta">:</span><span>
</span><span class="cm-meta">- </span><span>mkdir -p buildout-cache/downloads</span><span>
</span><span class="cm-meta">- </span><span>python bootstrap.py -c travis.cfg</span><span>
</span><span class="cm-meta">- </span><span>bin/buildout -N -t 3 -c travis.cfg</span><span>
</span><span class="cm-meta">- </span><span>curl -O http://saucelabs.com/downloads/Sauce-Connect-latest.zip</span><span>
</span><span class="cm-meta">- </span><span>unzip Sauce-Connect-latest.zip</span><span>
</span><span class="cm-meta">- </span><span>java -jar Sauce-Connect.jar $SAUCE_USERNAME $SAUCE_ACCESS_KEY -i $TRAVIS_JOB_ID</span><span>
</span><span>  -f CONNECTED &amp;</span><span>
</span><span class="cm-meta">- </span><span>JAVA_PID=$!</span><span>
</span><span class="cm-atom">before_script</span><span class="cm-meta">:</span><span>
</span><span class="cm-meta">- </span><span>bash -c </span><span class="cm-string">"while [ ! -f CONNECTED ]; do sleep 2; done"</span><span>
</span><span class="cm-atom">script</span><span class="cm-meta">: </span><span>bin/test</span><span>
</span><span class="cm-atom">after_script</span><span class="cm-meta">:</span><span>
</span><span class="cm-meta">- </span><span>kill $JAVA_PID</span><span>
</span><span class="cm-atom">env</span><span class="cm-meta">:</span><span>
</span><span class="cm-atom">  global</span><span class="cm-meta">:</span><span>
</span><span class="cm-meta">  - </span><span>ROBOT_BUILD_NUMBER=travis-$TRAVIS_BUILD_NUMBER</span><span>
</span><span class="cm-meta">  - </span><span>ROBOT_REMOTE_URL=http://$SAUCE_USERNAME:$SAUCE_ACCESS_KEY@ondemand.saucelabs.com:80/wd/hub</span><span>
</span><span class="cm-atom">  matrix</span><span class="cm-meta">:</span><span>
</span><span class="cm-meta">  - </span><span>ROBOT_BROWSER=firefox ROBOT_DESIRED_CAPABILITIES=tunnel-identifier:$TRAVIS_JOB_ID</span><span>
</span><span class="cm-meta">  - </span><span>ROBOT_BROWSER=ie ROBOT_DESIRED_CAPABILITIES=tunnel-identifier:$TRAVIS_JOB_ID</span><span>
</span><span class="cm-meta">  - </span><span>ROBOT_DESIRED_CAPABILITIES=</span><span class="cm-string">"platform:OS X 10.8,browserName:iPad,version:6,tunnel-identifier:$TRAVIS_JOB_ID"</span></code></pre>
    </div>
<p>Let me describe:</p>
<ol>
<li>Lines 4-7: Run buildout.</li>
<li>Lines 8-14: Download and start Sauce Connect.</li>
<li>Line 15: Run tests.</li>
<li>Lines 16-17: Shutdown Sauce Connect.</li>
<li>Lines 18-21: Define required environment variables for letting robot
to use Sauce Labs.</li>
<li>Lines 22-25: Define build matrix for running the tests with Sauce
Labs’ default Firefox, Internet Explorer and Mobile Safari.
<strong>tunnel-identifier</strong>-stuff is required for Sauce Labs to allow more
than one simultaneous tunnels for the same user account.</li>
</ol>
<p>Next, define your Sauce Labs username and access key as secret,
encrypted, environment variables <strong>SAUCE_USERNAME</strong> and
<strong>SAUCE_ACCESS_KEY</strong>.</p>
<p>Currently, Sauce Labs offers unlimited free subscription with three
simultaneous connections (e.g. running tests for three different
browsers at the same time) for Open Source projects. Just make sure to
register the account for your project, not yourself. Public repository
url is required for the creating the account and it cannot be changed
afterwards.</p>
<ol>
<li>
<p>Install Travis gem for Ruby (and install Ruby before that when
required):</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ gem</span><span> install travis  </span><span class="cm-comment"># or sudo gem ...</span></code></pre>
    </div>
</li>
<li>
<p>use <strong>travis</strong>-command to insert encrypted environment variables
into the product’s <code>.travis.yml</code>:</p>
<div class="gatsby-highlight" data-language="shell">
      <pre class=" cm-s-solarized"><code><span class="cm-def">$ travis</span><span> encrypt </span><span class="cm-def">SAUCE_USERNAME</span><span class="cm-operator">=</span><span>myusername </span><span class="cm-attribute">-r</span><span> mygithubname/example.product </span><span class="cm-attribute">--add</span><span> env.global</span><span>
</span><span class="cm-def">$ travis</span><span> encrypt </span><span class="cm-def">SAUCE_ACCESS_KEY</span><span class="cm-operator">=</span><span>myaccesskey </span><span class="cm-attribute">-r</span><span> mygithubname/example.product </span><span class="cm-attribute">--add</span><span> env.global</span></code></pre>
    </div>
</li>
</ol>
<p>Make sure to use your own Sauce Labs username and access key, and your
product’s Github-repository path (with format username/repo).</p>
<p>Finally, enable Travis-CI-tests for you product either at
<a href="travis-ci.org">Travis-CI.org</a> or at <a href="github.com">GitHub</a>.</p>
<p>Done. If I forgot something, I’ll update this post.</p>
<h2>Behind the basics: Test level status reporting for Sauce Labs</h2>
<p>By default, Sauce Labs doesn’t really know did the Selenium tests on it
pass or fail. To pass that information from our test runner on Travis-CI
to Sauce Labs, we need to add some extra code into our test setup.</p>
<p>At first, append the following into the end of
<code>src/example/product/testing.py</code>:</p>
<div class="gatsby-highlight" data-language="python">
      <pre class=" cm-s-solarized"><code><span class="cm-keyword">import</span><span> </span><span class="cm-variable">re</span><span>
</span><span class="cm-keyword">import</span><span> </span><span class="cm-variable">os</span><span>
</span><span class="cm-keyword">import</span><span> </span><span class="cm-variable">httplib</span><span>
</span><span class="cm-keyword">import</span><span> </span><span class="cm-variable">base64</span><span>
</span><span class="cm-keyword">try</span><span>:</span><span>
</span><span>    </span><span class="cm-keyword">import</span><span> </span><span class="cm-variable">json</span><span>
</span><span>    </span><span class="cm-keyword">assert</span><span> </span><span class="cm-variable">json</span><span>  </span><span class="cm-comment"># pyflakes</span><span>
</span><span class="cm-keyword">except</span><span> </span><span class="cm-variable">ImportError</span><span>:</span><span>
</span><span>    </span><span class="cm-keyword">import</span><span> </span><span class="cm-variable">simplejson</span><span> </span><span class="cm-keyword">as</span><span> </span><span class="cm-variable">json</span><span>

</span><span class="cm-keyword">from</span><span> </span><span class="cm-variable">robot</span><span>.</span><span class="cm-property">libraries</span><span>.</span><span class="cm-property">BuiltIn</span><span> </span><span class="cm-keyword">import</span><span> </span><span class="cm-variable">BuiltIn</span><span>

</span><span class="cm-variable">USERNAME_ACCESS_KEY</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">re</span><span>.</span><span class="cm-property">compile</span><span>(</span><span class="cm-string">'^(http|https):\/\/([^:]+):([^@]+)@'</span><span>)</span><span>


</span><span class="cm-keyword">class</span><span> </span><span class="cm-def">Keywords</span><span>:</span><span>
</span><span>    </span><span class="cm-keyword">def</span><span> </span><span class="cm-def">report_sauce_status</span><span>(</span><span class="cm-variable-2">self</span><span>, </span><span class="cm-variable">status</span><span>, </span><span class="cm-variable">tags</span><span class="cm-operator">=</span><span>[], </span><span class="cm-variable">remote_url</span><span class="cm-operator">=</span><span class="cm-string">''</span><span>):</span><span>
</span><span>        </span><span class="cm-variable">job_id</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">BuiltIn</span><span>().</span><span class="cm-property">get_library_instance</span><span>(</span><span>
</span><span>            </span><span class="cm-string">'Selenium2Library'</span><span>).</span><span class="cm-property">_current_browser</span><span>().</span><span class="cm-property">session_id</span><span>

</span><span>        </span><span class="cm-keyword">if</span><span> </span><span class="cm-variable">USERNAME_ACCESS_KEY</span><span>.</span><span class="cm-property">match</span><span>(</span><span class="cm-variable">remote_url</span><span>):</span><span>
</span><span>            </span><span class="cm-variable">username</span><span>, </span><span class="cm-variable">access_key</span><span> </span><span class="cm-operator">=</span><span>\</span><span>
</span><span>                </span><span class="cm-variable">USERNAME_ACCESS_KEY</span><span>.</span><span class="cm-property">findall</span><span>(</span><span class="cm-variable">remote_url</span><span>)[</span><span class="cm-number">0</span><span>][</span><span class="cm-number">1</span><span>:]</span><span>
</span><span>        </span><span class="cm-keyword">else</span><span>:</span><span>
</span><span>            </span><span class="cm-variable">username</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">os</span><span>.</span><span class="cm-property">environ</span><span>.</span><span class="cm-property">get</span><span>(</span><span class="cm-string">'SAUCE_USERNAME'</span><span>)</span><span>
</span><span>            </span><span class="cm-variable">access_key</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">os</span><span>.</span><span class="cm-property">environ</span><span>.</span><span class="cm-property">get</span><span>(</span><span class="cm-string">'SAUCE_ACCESS_KEY'</span><span>)</span><span>

</span><span>        </span><span class="cm-keyword">if</span><span> </span><span class="cm-keyword">not</span><span> </span><span class="cm-variable">job_id</span><span>:</span><span>
</span><span>            </span><span class="cm-keyword">return</span><span> </span><span class="cm-string">u"No Sauce job id found. Skipping..."</span><span>
</span><span>        </span><span class="cm-keyword">elif</span><span> </span><span class="cm-keyword">not</span><span> </span><span class="cm-variable">username</span><span> </span><span class="cm-keyword">or</span><span> </span><span class="cm-keyword">not</span><span> </span><span class="cm-variable">access_key</span><span>:</span><span>
</span><span>            </span><span class="cm-keyword">return</span><span> </span><span class="cm-string">u"No Sauce environment variables found. Skipping..."</span><span>

</span><span>        </span><span class="cm-variable">token</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">base64</span><span>.</span><span class="cm-property">encodestring</span><span>(</span><span class="cm-string">'%s:%s'</span><span> </span><span class="cm-operator">%</span><span> (</span><span class="cm-variable">username</span><span>, </span><span class="cm-variable">access_key</span><span>))[:</span><span class="cm-operator">-</span><span class="cm-number">1</span><span>]</span><span>
</span><span>        </span><span class="cm-variable">body</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">json</span><span>.</span><span class="cm-property">dumps</span><span>({</span><span class="cm-string">'passed'</span><span>: </span><span class="cm-variable">status</span><span> </span><span class="cm-operator">==</span><span> </span><span class="cm-string">'PASS'</span><span>,</span><span>
</span><span>                           </span><span class="cm-string">'tags'</span><span>: </span><span class="cm-variable">tags</span><span>})</span><span>

</span><span>        </span><span class="cm-variable">connection</span><span> </span><span class="cm-operator">=</span><span> </span><span class="cm-variable">httplib</span><span>.</span><span class="cm-property">HTTPConnection</span><span>(</span><span class="cm-string">'saucelabs.com'</span><span>)</span><span>
</span><span>        </span><span class="cm-variable">connection</span><span>.</span><span class="cm-property">request</span><span>(</span><span class="cm-string">'PUT'</span><span>, </span><span class="cm-string">'/rest/v1/%s/jobs/%s'</span><span> </span><span class="cm-operator">%</span><span> (</span><span>
</span><span>            </span><span class="cm-variable">username</span><span>, </span><span class="cm-variable">job_id</span><span>), </span><span class="cm-variable">body</span><span>,</span><span>
</span><span>            </span><span class="cm-variable">headers</span><span class="cm-operator">=</span><span>{</span><span class="cm-string">'Authorization'</span><span>: </span><span class="cm-string">'Basic %s'</span><span> </span><span class="cm-operator">%</span><span> </span><span class="cm-variable">token</span><span>}</span><span>
</span><span>        )</span><span>
</span><span>        </span><span class="cm-keyword">return</span><span> </span><span class="cm-variable">connection</span><span>.</span><span class="cm-property">getresponse</span><span>().</span><span class="cm-property">status</span></code></pre>
    </div>
<p>This code defines a custom Robot Framework keyword library with a
keyword for passing the test status (and other information) back to
Sauce Labs.</p>
<p>Next, we update <code>src/example/product/tests/robot_test.txt</code> to store the
session id during the setup of every test and send the test result back
to Sauce Labs during the teardown of every test:</p>
<div class="gatsby-highlight" data-language="robotframework">
      <pre class=" cm-s-solarized"><code><span class="cm-header">*** Settings ***</span><span>

</span><span class="cm-meta">Library</span><span>  </span><span class="cm-string">Selenium2Library</span><span>  </span><span class="cm-attribute">timeout</span><span class="cm-operator">=</span><span class="cm-string">10</span><span>  </span><span class="cm-attribute">implicit_wait</span><span class="cm-operator">=</span><span class="cm-string">0.5</span><span>
</span><span class="cm-meta">Library</span><span>  </span><span class="cm-string">example.product.testing.Keywords</span><span>

</span><span class="cm-meta">Test Setup</span><span>  </span><span class="cm-keyword">Start</span><span> </span><span class="cm-keyword">browser</span><span>
</span><span class="cm-meta">Test Teardown</span><span>  </span><span class="cm-keyword">Run</span><span> </span><span class="cm-keyword">keywords</span><span>  </span><span class="cm-string">Report</span><span> </span><span class="cm-string">test</span><span> </span><span class="cm-string">status</span><span>  </span><span class="cm-string">Close</span><span> </span><span class="cm-string">All</span><span> </span><span class="cm-string">Browsers</span><span>

</span><span class="cm-header">*** Variables ***</span><span>

</span><span class="cm-variable-2">${ZOPE_HOST}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-string">localhost</span><span>
</span><span class="cm-variable-2">${ZOPE_PORT}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-string">55001</span><span>
</span><span class="cm-variable-2">${ZOPE_URL}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-operator">http://${ZOPE_HOST}:</span><span class="cm-variable-2">${ZOPE_PORT</span><span class="cm-variable-2">}</span><span>

</span><span class="cm-variable-2">${PLONE_SITE_ID}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-string">plone</span><span>
</span><span class="cm-variable-2">${PLONE_URL}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-variable-2">${ZOPE_URL}</span><span class="cm-string">/</span><span class="cm-variable-2">${PLONE_SITE_ID</span><span class="cm-variable-2">}</span><span>

</span><span class="cm-variable-2">${BROWSER}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-string">Firefox</span><span>
</span><span class="cm-variable-2">${REMOTE_URL}</span><span> </span><span class="cm-operator">=</span><span>
</span><span class="cm-variable-2">${DESIRED_CAPABILITIES}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-operator">platform:</span><span class="cm-string">Linux</span><span>
</span><span class="cm-variable-2">${BUILD_NUMBER}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-string">manual</span><span>

</span><span class="cm-header">*** Test Cases ***</span><span>

</span><span class="cm-string header">Plone site</span><span>
</span><span class="cm-bracket">    </span><span class="cm-meta">[Tags]</span><span class="cm-bracket">  </span><span class="cm-tag">start</span><span>
</span><span>    </span><span class="cm-keyword">Go</span><span> </span><span class="cm-keyword">to</span><span>  </span><span class="cm-variable-2">${PLONE_URL</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-keyword">Page</span><span> </span><span class="cm-keyword">should</span><span> </span><span class="cm-keyword">contain</span><span>  </span><span class="cm-string">Plone</span><span> </span><span class="cm-string">site</span><span>

</span><span class="cm-header">*** Keywords ***</span><span>

</span><span class="cm-def">Start</span><span> </span><span class="cm-def">browser</span><span>
</span><span>    </span><span class="cm-variable-2">${BUILD_INFO}</span><span> </span><span class="cm-operator">=</span><span>  </span><span class="cm-keyword">Set</span><span> </span><span class="cm-keyword">variable</span><span>
</span><span>    </span><span class="cm-bracket">...</span><span>           </span><span class="cm-operator">build:${BUILD_NUMBER},name:</span><span class="cm-variable-2">${SUITE_NAME}</span><span> </span><span class="cm-bracket">|</span><span> </span><span class="cm-variable-2">${TEST_NAME</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-keyword">Open</span><span> </span><span class="cm-keyword">browser</span><span>  </span><span class="cm-variable-2">${PLONE_URL}</span><span>  </span><span class="cm-variable-2">${BROWSER</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-bracket">...</span><span>           </span><span class="cm-attribute">remote_url</span><span class="cm-operator">=</span><span class="cm-variable-2">${REMOTE_URL</span><span class="cm-variable-2">}</span><span>
</span><span>    </span><span class="cm-bracket">...</span><span>           </span><span class="cm-attribute">desired_capabilities</span><span class="cm-operator">=</span><span class="cm-variable-2">${DESIRED_CAPABILITIES}</span><span class="cm-string">,</span><span class="cm-variable-2">${BUILD_INFO</span><span class="cm-variable-2">}</span><span>

</span><span class="cm-def">Report</span><span> </span><span class="cm-def">test</span><span> </span><span class="cm-def">status</span><span>
</span><span>    </span><span class="cm-keyword">Report</span><span> </span><span class="cm-keyword">sauce</span><span> </span><span class="cm-keyword">status</span><span>  </span><span class="cm-variable-2">${TEST_STATUS}</span><span>  </span><span class="cm-variable-2">${TEST_TAGS}</span><span>  </span><span class="cm-variable-2">${REMOTE_URL</span><span class="cm-variable-2">}</span></code></pre>
    </div>
<p>Please, note how we had to replace suite setup and teardown with test
setup and teardown) to open a new Selenium session for every test.</p>
<p>This worked for me. I hope it works for you too.</p>
<p><strong>example.product</strong> is available at:
<a href="https://github.com/datakurre/example.product">https://github.com/datakurre/example.product</a></p></div></div><hr style="margin-bottom:1.75rem"/><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2013/02/overview-of-new-robot-framework-goodies.html/">← <!-- -->Overview of the new Robot Framework goodies for Plone</a></li><li><a rel="next" href="/2013/04/generate-annotated-screenshots-with.html/">Generate annotated screenshots with plone.app.robotframework<!-- --> →</a></li></ul></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2013/03/cross-browser-test-your-plone-add-on.html/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-8e352158238d7a981d99.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-97805cac34ee32fd2ff3.js\"],\"component---src-pages-index-js\":[\"/component---src-pages-index-js-d702b3556e2e37664238.js\"],\"component---src-templates-blog-post-js\":[\"/component---src-templates-blog-post-js-db3b846139cc4b35992f.js\"],\"component---src-templates-follow-js\":[\"/component---src-templates-follow-js-48b9dd3d02ab9724ef8f.js\"],\"component---src-templates-like-js\":[\"/component---src-templates-like-js-8481525f17b37bf9ff44.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="1117cca6506347fc7992";</script><script src="/webpack-runtime-e10ad14bfe4fe997f9f6.js" async></script><script src="/framework-a3d1aa3677a1ff482f17.js" async></script><script src="/app-8e352158238d7a981d99.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>